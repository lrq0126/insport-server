(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-add-package-add-package"],{"50ea":function(e,t,a){var i=a("fac28");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("c152c47e",i,!0,{sourceMap:!1,shadowMode:!1})},7204:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getSignature=s,t.getCountryCommercialArea=u,t.getGoodsCommercialArea=d,t.selectGoodsInfo=l,t.cargoListData=c,t.updateCustomerCommercialArea=m,t.updateCustomerEmail=f,t.checkParcelInfo=p,t.checkPicture=g,t.checkOrderPicture=v;var o=i(a("5530")),r=i(a("e2b2")),n=a("065a");function s(e){return uni.request({url:r.default.baseUrl.dev+"/weixin/getSignature",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{url:e}})}function u(){return uni.request({url:r.default.baseUrl.dev+"/commercialArea/getCountryCommercialArea",method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}})}function d(){return uni.request({url:r.default.baseUrl.dev+"/goods/getGoodsCommercialArea",method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()}})}function l(e){return uni.request({url:r.default.baseUrl.dev+"/goods/selectGoodsInfoByDeliveryOrderNo",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{deliveryOrderNo:e}})}function c(e){var t=e.page,a=e.limit,i=e.deliveryOrderNo,s=e.goodsName,u=e.goodsType,d=e.deliveryName,l=e.inStorageTime,c={pageNumber:t,pageSize:a,deliveryOrderNo:i,goodsName:s,goodsType:u,deliveryName:d,inStorageTime:l};return uni.request({url:r.default.baseUrl.dev+"/goods/find/warehoused",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:(0,o.default)({},c)})}function m(e){var t=e.id,a=e.email,i=e.country,o=e.commercialAreaId,s=e.commercialAreaName;return uni.request({url:r.default.baseUrl.dev+"/customer/updateCustomerCommercialArea",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{id:t,email:a,country:i,commercialAreaId:o,commercialAreaName:s}})}function f(e){var t=e.id,a=e.email;return uni.request({url:r.default.baseUrl.dev+"/customer/updateCustomerEmail",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{id:t,email:a}})}function p(e){return uni.request({url:r.default.baseUrl.dev+"/goods/find/by/businessNumber/goods/list",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{businessNumber:e}})}function g(e){return uni.request({url:"http://jiyun.flycloudstorage.com:8622/goods/checkPicture",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{deliveryOrderNo:e}})}function v(e){return uni.request({url:"http://jiyun.flycloudstorage.com:8622/goods/checkOrderPicture",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{orderNumber:e}})}},8090:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getDeliveryCompany=s,t.addOrder=u,t.editGoods=d;var o=i(a("5530")),r=i(a("e2b2")),n=a("065a");function s(){return uni.request({url:r.default.baseUrl.dev+"/customer/find/all/deliveryCompany",method:"get",header:{Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()}})}function u(e){return uni.request({url:r.default.baseUrl.dev+"/customer/order",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:{paramMap:JSON.stringify(e)}})}function d(e){var t=e.id,a=e.deliveryNo,i=e.deliveryOrderNo,s=e.goodsName,u=(e.goodsNumber,e.remark),d={id:t,deliveryNo:a,deliveryOrderNo:i,goodsName:s,message:u};return uni.request({url:r.default.baseUrl.dev+"/order/updateGoods",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,n.getToken)()+"_"+(0,n.getCustomerNo)()},data:(0,o.default)({},d)})}},"8cb3":function(e,t,a){"use strict";a.r(t);var i=a("940c"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},"940c":function(e,t,a){"use strict";a("4160"),a("a434"),a("d3b7"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("8090"),o=a("7204"),r={data:function(){return{deliveryCompanyData:[],selectedCountry:"",selectedCommercialAreaId:"",selectedCommercialArea:"",countryData:[],commercialAreaData:[],orderArray:[{deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:1,remark:""}]}},methods:{showloading:function(){uni.showLoading({title:"页面加载中...",mask:!0,success:function(){setTimeout((function(){uni.hideLoading()}),1e3)}})},handleSearch:function(){var e=this;this.showloading(),(0,o.getCountryCommercialArea)().then((function(t){console.log("国家&仓库地址：",t),200==t[1].data.code?e.countryData=t[1].data.content:e.countryData=[]}))},changeCountry:function(){var e=this;console.log("已选中的国家：",this.selectedCountry),this.selectedCommercialAreaId="",this.selectedCommercialArea="",this.countryData.forEach((function(t){t.country==e.selectedCountry&&(e.commercialAreaData=t.commercialArea)}))},changeArea:function(){var e=this;this.commercialAreaData.forEach((function(t){t.id==e.selectedCommercialAreaId&&(e.selectedCommercialArea=t.commercialAreaName,e.selectedCommercialAreaId=t.id)}))},handleSubmit:function(e){var t=this,a=!0;if(this.orderArray.forEach((function(e){return e.deliveryOrderNo?/^[\u4e00-\u9fa5]+$/.test(e.deliveryOrderNo)?(a=!1,uni.showToast({icon:"none",title:"快递单号不能包含中文"}),!1):e.goodsName?void 0:(a=!1,uni.showToast({icon:"none",title:"货物名称不能为空"}),!1):(a=!1,uni.showToast({icon:"none",title:"快递单号不能为空"}),!1)})),a){uni.showLoading({title:"正在提交...",mask:!0});var o=this;this.orderArray.forEach((function(e){e.commercialAreaId=t.selectedCommercialAreaId,e.commercialAreaName=t.selectedCommercialArea})),(0,i.addOrder)(this.orderArray).then((function(e){200==e[1].data.code?setTimeout((function(){uni.hideLoading(),uni.showToast({icon:"success",title:"提交成功",duration:1e3,success:function(){setTimeout((function(){uni.navigateTo({url:"/pages/mine/stock-pending/stock-pending"})}),1e3),o.orderArray=[{deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:"",remark:""}]}})}),1e3):401==e[1].data.code?(uni.showToast({icon:"none",title:e[1].data.message,duration:1500}),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)):-1114==e[1].data.code&&uni.showToast({icon:"none",title:e[1].data.message,duration:2e3})})).finally((function(){}))}},handleAdd:function(){this.orderArray.push({deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:"",remark:""})},handleDelete:function(e){this.orderArray.length>1&&this.orderArray.splice(e,1)}},mounted:function(){this.handleSearch()}};t.default=r},"9b1d":function(e,t,a){"use strict";var i=a("50ea"),o=a.n(i);o.a},eb84:function(e,t,a){"use strict";a.r(t);var i=a("ec1b"),o=a("8cb3");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("9b1d");var n,s=a("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"476f5848",null,!1,i["a"],n);t["default"]=u.exports},ec1b:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"add-package"},[a("v-uni-view",{staticClass:"aui-tab",attrs:{id:"tab"}},[a("v-uni-view",{staticClass:"aui-tab-item ad_address_c"},[a("v-uni-text",{staticClass:"aui-active"},[e._v("登记信息")])],1)],1),a("v-uni-view",{staticClass:"aui-content aui-nav-search-fixed"},[a("v-uni-view",{staticClass:"commercial-area-class"},[a("v-uni-text",[e._v("国家：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCountry,expression:"selectedCountry"}],staticClass:"package_stock_se",attrs:{name:"guojia"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCountry=t.target.multiple?a:a[0]},function(t){arguments[0]=t=e.$handleEvent(t),e.changeCountry()}]}},[a("option",{attrs:{value:""}},[e._v("请选择国家")]),e._l(e.countryData,(function(t,i){return a("option",{key:i,domProps:{value:t.country}},[e._v(e._s(t.country))])}))],2),a("v-uni-text",{staticStyle:{"margin-left":"20upx"}},[e._v("仓库：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCommercialAreaId,expression:"selectedCommercialAreaId"}],staticClass:"package_stock_se",attrs:{name:"guojia"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCommercialAreaId=t.target.multiple?a:a[0]},function(t){arguments[0]=t=e.$handleEvent(t),e.changeArea()}]}},[a("option",{attrs:{value:""}},[e._v("请选择仓库")]),e._l(e.commercialAreaData,(function(t,i){return a("option",{key:i,domProps:{value:t.id}},[e._v(e._s(t.commercialAreaName))])}))],2)],1),a("v-uni-view",{staticClass:"aui-tab-page"},[a("v-uni-view",{staticClass:"aui-content aui-nav-search-fixed ",staticStyle:{background:"#f5f5f5",top:"0",position:"relative",height:"100%","margin-bottom":"45px"},attrs:{id:"content_wrapper1"}},[a("v-uni-view",{staticClass:"content-scroll",attrs:{id:"content_scroll"}},e._l(e.orderArray,(function(t,i){return a("v-uni-view",{key:i,staticClass:"aui-list aui-form-list aui-new-ul aui-margin-b-10"},[a("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[a("v-uni-view",{staticClass:"aui-list-item-inner"},[a("v-uni-view",{staticClass:"aui-list-item-input"},[a("v-uni-input",{staticClass:"message",attrs:{placeholder:"请输入快递单号（必填）",type:"text"},model:{value:t.deliveryOrderNo,callback:function(a){e.$set(t,"deliveryOrderNo",a)},expression:"item.deliveryOrderNo"}})],1)],1)],1),a("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[a("v-uni-view",{staticClass:"aui-list-item-inner"},[a("v-uni-view",{staticClass:"aui-list-item-input"},[a("v-uni-input",{staticClass:"message",attrs:{placeholder:"请输入货物名称（必填）",type:"text"},model:{value:t.goodsName,callback:function(a){e.$set(t,"goodsName",a)},expression:"item.goodsName"}})],1)],1)],1),a("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[a("v-uni-view",{staticClass:"aui-list-item-inner"},[a("v-uni-view",{staticClass:"aui-list-item-input"},[a("v-uni-textarea",{staticClass:"message",attrs:{rows:"",cols:"",placeholder:"请输入备注信息"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}})],1)],1)],1),a("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDelete(i)}}},[a("v-uni-view",{staticClass:"aui-list-item-inner"},[a("v-uni-view",{staticClass:"aui-list-item-input",staticStyle:{"text-align":"center",color:"red","font-weight":"bold"}},[e._v("删除-快递单号")])],1)],1)],1)})),1),a("v-uni-view",{staticClass:"aui-content aui-margin-t-10 aui-margin-b-10",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleAdd.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"aui-list aui-list-in"},[a("v-uni-view",{staticClass:"aui-list-item",attrs:{id:"addgoods"}},[a("v-uni-view",{staticClass:"aui-list-item-label-icon"},[a("v-uni-text",{staticClass:"aui-iconfont aui-icon-plus aui-active"},[e._v("+")])],1),a("v-uni-view",{staticClass:"aui-list-item-inner"},[e._v("添加快递单号")])],1)],1)],1)],1)],1)],1),e.selectedCommercialAreaId?a("v-uni-view",{staticClass:"sub_box go_zhuanyun"},[a("v-uni-button",{staticClass:"insertyubao",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSubmit.apply(void 0,arguments)}}},[e._v("提交转运清单")])],1):a("v-uni-view",{staticClass:"sub_box go_zhuanyun",staticStyle:{"background-color":"#aaaaaa"}},[a("v-uni-button",{staticClass:"insertyubao"},[e._v("提交转运清单")])],1)],1)},r=[]},fac28:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/*字体颜色*/\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.add-package .commercial-area-class[data-v-476f5848]{margin-left:%?40?%;height:%?80?%;line-height:%?80?%;font-size:%?32?%}.add-package .commercial-area-class .package_stock_se[data-v-476f5848]{font-size:%?32?%;height:%?60?%;width:33%;border:none}.add-package .aui-tab[data-v-476f5848]{position:fixed;top:%?90?%;width:100%;z-index:1;border-bottom:solid 1px #f6f6f6;display:-webkit-box;display:-webkit-flex;display:flex;background:#fff}.add-package .aui-tab .aui-tab-item[data-v-476f5848]{width:100%;height:%?90?%;line-height:%?90?%;position:relative;font-size:%?28?%;text-align:center;color:#212121;margin-left:-1px;-webkit-box-flex:1;box-flex:1}.add-package .aui-tab .aui-tab-item .aui-active[data-v-476f5848]{color:#e16166;border-bottom:#e16166 solid %?4?%;width:100%;padding:%?24?% %?80?%;font-weight:700;font-size:%?34?%}.add-package .aui-nav-search-fixed[data-v-476f5848]{position:absolute;top:%?90?%;border-top:solid 1px #f6f6f6;left:0;bottom:0;width:100%;background:#fff}.add-package .aui-nav-search-fixed .aui-tab-page[data-v-476f5848]{width:100%;height:auto}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list[data-v-476f5848]{border-color:#f5f5f5;position:relative;font-size:%?32?%;background-color:#fff;border-top:1px solid #ddd;margin-bottom:%?10?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-login[data-v-476f5848]{margin:0 %?30?%;border-bottom:1px solid #eee!important}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-inner[data-v-476f5848]{position:relative;min-height:%?90?%;padding-right:%?30?%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input[data-v-476f5848]{width:100%;padding:0;padding-right:%?30?%;-webkit-box-flex:1;box-flex:1;-webkit-flex-shrink:1;flex-shrink:1}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input uni-input[data-v-476f5848]{font-size:%?32?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input select[data-v-476f5848]{border:none;height:%?70?%;color:#666;font-size:%?32?%;position:relative;right:%?8?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input uni-textarea[data-v-476f5848]{height:%?160?%;padding:%?8?% 0}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list-item[data-v-476f5848]{list-style:none;margin:0;padding:0;padding-left:%?30?%;color:#212121;border-bottom:1px solid #ddd;position:relative;min-height:%?90?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.add-package .aui-margin-b-10[data-v-476f5848]{margin-bottom:%?20?%!important}.add-package .aui-margin-b-10 .aui-list[data-v-476f5848]{border-color:#f5f5f5}.add-package .aui-margin-b-10 .aui-list .aui-list-item-label-icon[data-v-476f5848]{width:auto;padding-right:%?20?%}.add-package .aui-margin-b-10 .aui-list .aui-list-item-label-icon .aui-iconfont[data-v-476f5848]{-webkit-align-self:center;align-self:center;font-size:%?60?%;color:#e16166;line-height:1.4!important;margin-left:%?30?%}.add-package .sub_box[data-v-476f5848]{position:fixed;z-index:9;bottom:0;height:%?94?%;width:100%;color:#fff;background:#1d4fcf;margin-left:25%;margin-bottom:%?20?%;border-radius:%?20?%;width:50%}.add-package .sub_box uni-button[data-v-476f5848]{border:0;line-height:%?94?%;background:transparent;display:block;text-align:center;color:#fff}.add-package .sub_box .go_zhuanyun[data-v-476f5848]{background:#09f}',""]),e.exports=t}}]);