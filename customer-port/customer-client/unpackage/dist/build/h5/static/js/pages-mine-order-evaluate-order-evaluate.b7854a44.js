(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-order-evaluate-order-evaluate"],{"193c":function(t,a,e){"use strict";var n=e("205d"),o=e.n(n);o.a},"205d":function(t,a,e){var n=e("e983");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("6f517f19",n,!0,{sourceMap:!1,shadowMode:!1})},3206:function(t,a,e){"use strict";e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var n={loadRefresh:e("1897").default},o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"base-class"},[e("v-uni-view",{staticClass:"query-class"},[2==t.evaluateStatus?e("v-uni-view",{staticClass:"selected",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectEvaluateList(2)}}},[t._v("待评价")]):t._e(),1==t.evaluateStatus?e("v-uni-view",{staticClass:"unselect",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectEvaluateList(2)}}},[t._v("待评价")]):t._e(),2==t.evaluateStatus?e("v-uni-view",{staticClass:"unselect",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectEvaluateList(1)}}},[t._v("已评价")]):t._e(),1==t.evaluateStatus?e("v-uni-view",{staticClass:"selected",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectEvaluateList(1)}}},[t._v("已评价")]):t._e()],1),e("v-uni-view",{staticClass:"table-data-class"},[t.orderEvaluateData.length<1?e("v-uni-view",{staticStyle:{"padding-top":"20upx","line-height":"50upx","text-align":"center"}},[t._v("———— 暂无数据 ————")]):e("v-uni-view",[e("load-refresh",{ref:"loadRefresh",attrs:{isRefresh:!0,refreshType:"hollowDots",heightReduce:"10",currentPage:t.pageInfo.page,totalPages:t.pageInfo.totalPages},on:{loadMore:function(a){arguments[0]=a=t.$handleEvent(a),t.loadMore(t.pageInfo.page+1)},refresh:function(a){arguments[0]=a=t.$handleEvent(a),t.refreshData(1)}}},[e("v-uni-view",{attrs:{slot:"content-list"},slot:"content-list"},t._l(t.orderEvaluateData,(function(a,n){return e("table",{staticStyle:{width:"90%","background-color":"#f4f4f4",margin:"3%"}},[e("tr",{staticStyle:{"background-color":"#ececec"}},[e("v-uni-view",{staticClass:"title-class"},[t._v("订单号："+t._s(a.orderNumber))])],1),e("tr",[e("v-uni-view",{staticClass:"data-info-calss"},[e("v-uni-view",[t._v("渠道名称："+t._s(a.routeName))]),e("v-uni-view",[t._v("下单时间："+t._s(a.orderTime))]),e("v-uni-view",[t._v("收货时间："+t._s(a.receiptTime))]),e("v-uni-view",[t._v("订单金额："+t._s(a.actualPrice))]),e("v-uni-view",[t._v("评论："),2==t.evaluateStatus?e("v-uni-view"):a.remarks?e("v-uni-view",{staticStyle:{width:"90%"}},[e("v-uni-text",{staticStyle:{"word-wrap":"break-word","word-break":"normal"}},[t._v(t._s(a.remarks))])],1):e("v-uni-view",[t._v("用户没有评论")])],1)],1),e("v-uni-view",{staticClass:"button-class"},[e("v-uni-view",{staticClass:"pack-info-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.packInfoGo(a.businessNumber)}}},[t._v("订单详情")]),1==t.evaluateStatus?e("v-uni-view",{staticClass:"evaluate-info-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToEvaluateInfo(a.packId)}}},[t._v("评价详情")]):e("v-uni-view",{staticClass:"evaluate-info-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToEvaluateInfo(a.packId)}}},[t._v("去评价")])],1)],1)])})),0)],1)],1)],1)],1)},i=[]},"37d1":function(t,a,e){"use strict";e.r(a);var n=e("882d"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a},"882d":function(t,a,e){"use strict";var n=e("4ea4");e("4160"),e("d81d"),e("d3b7"),e("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(e("1897")),i=n(e("bce0")),s=e("c956"),r={components:{uLoadMore:i.default,loadRefresh:o.default},data:function(){return{evaluateStatus:2,pageInfo:{page:1,limit:15,total:0,totalPages:0,customerId:""},orderEvaluateData:[]}},onLoad:function(){this.getEvaluate(1)},methods:{completed:function(){},runRefresh:function(){},packInfoGo:function(t){uni.navigateTo({url:"../waiting-to-receive/pack-info/pack-info?businessNumber="+t})},goToEvaluateInfo:function(t){uni.navigateTo({url:"../order-evaluate/evaluate-info?packId="+t})},selectEvaluateList:function(t){this.evaluateStatus!=t&&(this.evaluateStatus=t,this.getEvaluate(1))},refreshData:function(t){var a=this;this.getEvaluate(t),setTimeout((function(){a.$refs.loadRefresh.completed()}),1e3)},loadMore:function(t){var a=this;t&&(this.pageInfo.page=t),(0,s.getEvaluateList)(this.pageInfo).then((function(t){var e=t[1].data.content;e.length>0&&(a.pageInfo.page=t[1].data.map.number,a.pageInfo.totalPages=t[1].data.map.totalPages,a.orderEvaluateData.length>0&&e.forEach((function(t){a.orderEvaluateData.push(t)})))})).finally((function(){setTimeout((function(){a.$refs.loadRefresh.completed()}),1e3)}))},getEvaluate:function(t){var a=this,e=uni.getStorageSync("info");e?(t&&(this.pageInfo.page=t),this.pageInfo.evaluateStatus=this.evaluateStatus,this.pageInfo.customerId=e.id,uni.showLoading({title:"加载中..."}),(0,s.getEvaluateList)(this.pageInfo).then((function(t){a.pageInfo.page=t[1].data.map.number,a.pageInfo.totalPages=t[1].data.map.totalPages,a.orderEvaluateData=t[1].data.content,setTimeout((function(){uni.hideLoading()}),500)}))):uni.redirectTo({url:"../../login/login"})}}};a.default=r},c956:function(t,a,e){"use strict";var n=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.getEvaluateList=r,a.getEvaluateDetail=u,a.comfirmEvaluate=l;var o=n(e("93e1")),i=n(e("e2b2")),s=e("065a");function r(t){var a=t.page,e=t.limit,n=t.customerId,o=t.evaluateStatus;return uni.request({url:i.default.baseUrl.dev+"/orderEvaluate/getEvaluateList",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,s.getToken)()+"_"+(0,s.getCustomerNo)()},data:{pageNumber:a,pageSize:e,customerId:n,evaluateStatus:o}})}function u(t){var a=t.packId;return uni.request({url:i.default.baseUrl.dev+"/orderEvaluate/getEvaluateDetail",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,s.getToken)()+"_"+(0,s.getCustomerNo)()},data:{packId:a}})}function l(t,a,e){return o.default.uploadFile(t,"/orderEvaluate/evaluate",a,e)}},d4ab:function(t,a,e){"use strict";e.r(a);var n=e("3206"),o=e("37d1");for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("193c");var s,r=e("f0c5"),u=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"2b6a727a",null,!1,n["a"],s);a["default"]=u.exports},e983:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/*字体颜色*/\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.base-class[data-v-2b6a727a]{height:100%;background-color:#fff}.base-class .query-class[data-v-2b6a727a]{position:fixed;background-color:#fff;width:100%;padding-top:%?20?%;padding-bottom:2%;float:left}.base-class .query-class .selected[data-v-2b6a727a]{margin-left:15%;height:%?70?%;line-height:%?70?%;float:left;border-radius:%?30?%;background-color:#fff;border:#fbc04a solid %?2?%;width:27%;text-align:center}.base-class .query-class .unselect[data-v-2b6a727a]{margin-left:15%;height:%?70?%;line-height:%?70?%;float:left;border-radius:%?30?%;background-color:#d6d6d6;width:27%;text-align:center}.base-class .table-data-class[data-v-2b6a727a]{background-color:#fff;width:100%;padding-left:%?10?%;overflow:auto;position:absolute;top:10%;height:85%}.base-class .table-data-class .title-class[data-v-2b6a727a]{padding:%?15?%;padding-left:%?20?%}.base-class .data-info-calss[data-v-2b6a727a]{background-color:#fff;padding:%?10?%;border-bottom:2upx solid  #333;padding:%?10?%}.base-class .button-class[data-v-2b6a727a]{margin-top:%?4?%;background-color:#fff;width:100%;padding-top:2%;height:%?64?%;line-height:%?64?%}.base-class .button-class .pack-info-button[data-v-2b6a727a]{color:#fff;border-radius:%?15?%;background-color:#09f;text-align:center;margin-right:3%;width:25%;float:right}.base-class .button-class .evaluate-info-button[data-v-2b6a727a]{color:#ff8c00;border-radius:%?15?%;border:solid %?2?%;text-align:center;margin-right:3%;width:23%;float:right}',""]),t.exports=a}}]);