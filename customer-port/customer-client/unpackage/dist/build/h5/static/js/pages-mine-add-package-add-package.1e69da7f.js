(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-add-package-add-package"],{1136:function(i,e,t){"use strict";t.r(e);var a=t("66bc"),n=t("1672b");for(var o in n)"default"!==o&&function(i){t.d(e,i,(function(){return n[i]}))}(o);t("8874");var s,r=t("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"06556420",null,!1,a["a"],s);e["default"]=d.exports},"1672b":function(i,e,t){"use strict";t.r(e);var a=t("5f5f"),n=t.n(a);for(var o in a)"default"!==o&&function(i){t.d(e,i,(function(){return a[i]}))}(o);e["default"]=n.a},"5f5f":function(i,e,t){"use strict";t("4160"),t("a434"),t("d3b7"),t("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t("ce59"),n={data:function(){return{deliveryCompanyData:[],orderArray:[{deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:1,remark:""}]}},methods:{showloading:function(){uni.showLoading({title:"页面加载中...",mask:!0,success:function(){setTimeout((function(){uni.hideLoading()}),1e3)}})},handleSearch:function(){var i=this;this.showloading(),(0,a.getDeliveryCompany)().then((function(e){200==e[1].data.code?i.deliveryCompanyData=e[1].data.content.deliveryCompany:401==e[1].data.code&&(uni.showToast({icon:"none",title:e[1].data.message,duration:1500}),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500))})).finally((function(){}))},handleSubmit:function(i){var e=!0;if(this.orderArray.forEach((function(i){return i.deliveryOrderNo?/^[\u4e00-\u9fa5]+$/.test(i.deliveryOrderNo)?(e=!1,uni.showToast({icon:"none",title:"快递单号不能包含中文"}),!1):i.goodsName?void 0:(e=!1,uni.showToast({icon:"none",title:"货物名称不能为空"}),!1):(e=!1,uni.showToast({icon:"none",title:"快递单号不能为空"}),!1)})),e){uni.showLoading({title:"正在提交...",mask:!0});var t=this;(0,a.addOrder)(this.orderArray).then((function(i){200==i[1].data.code?setTimeout((function(){uni.hideLoading(),uni.showToast({icon:"success",title:"提交成功",duration:1e3,success:function(){setTimeout((function(){uni.navigateTo({url:"/pages/mine/stock-pending/stock-pending"})}),1e3),t.orderArray=[{deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:"",remark:""}]}})}),1e3):401==i[1].data.code?(uni.showToast({icon:"none",title:i[1].data.message,duration:1500}),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1500)):-1114==i[1].data.code&&uni.showToast({icon:"none",title:i[1].data.message,duration:2e3})})).finally((function(){}))}},handleAdd:function(){this.orderArray.push({deliveryNo:"",deliveryOrderNo:"",goodsName:"",goodsNumber:"",remark:""})},handleDelete:function(i){this.orderArray.length>1&&this.orderArray.splice(i,1)}},mounted:function(){this.handleSearch()}};e.default=n},"5f98":function(i,e,t){var a=t("24fb");e=a(!1),e.push([i.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/*字体颜色*/\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.add-package .aui-tab[data-v-06556420]{position:fixed;top:%?90?%;width:100%;z-index:1;border-bottom:solid 1px #f6f6f6;display:-webkit-box;display:-webkit-flex;display:flex;background:#fff}.add-package .aui-tab .aui-tab-item[data-v-06556420]{width:100%;height:%?90?%;line-height:%?90?%;position:relative;font-size:%?28?%;text-align:center;color:#212121;margin-left:-1px;-webkit-box-flex:1;box-flex:1}.add-package .aui-tab .aui-tab-item .aui-active[data-v-06556420]{color:#e16166;border-bottom:#e16166 solid %?4?%;width:100%;padding:%?24?% %?80?%;font-weight:700;font-size:%?34?%}.add-package .aui-nav-search-fixed[data-v-06556420]{position:absolute;top:%?90?%;border-top:solid 1px #f6f6f6;left:0;bottom:0;width:100%;background:#fff}.add-package .aui-nav-search-fixed .aui-tab-page[data-v-06556420]{width:100%;height:auto}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list[data-v-06556420]{border-color:#f5f5f5;position:relative;font-size:%?32?%;background-color:#fff;border-top:1px solid #ddd;margin-bottom:%?10?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-login[data-v-06556420]{margin:0 %?30?%;border-bottom:1px solid #eee!important}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-inner[data-v-06556420]{position:relative;min-height:%?90?%;padding-right:%?30?%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input[data-v-06556420]{width:100%;padding:0;padding-right:%?30?%;-webkit-box-flex:1;box-flex:1;-webkit-flex-shrink:1;flex-shrink:1}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input uni-input[data-v-06556420]{font-size:%?32?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input select[data-v-06556420]{border:none;height:%?70?%;color:#666;font-size:%?32?%;position:relative;right:%?8?%}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list .aui-list-item-input uni-textarea[data-v-06556420]{height:%?160?%;padding:%?8?% 0}.add-package .aui-nav-search-fixed .aui-tab-page .aui-list-item[data-v-06556420]{list-style:none;margin:0;padding:0;padding-left:%?30?%;color:#212121;border-bottom:1px solid #ddd;position:relative;min-height:%?90?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.add-package .aui-margin-b-10[data-v-06556420]{margin-bottom:%?20?%!important}.add-package .aui-margin-b-10 .aui-list[data-v-06556420]{border-color:#f5f5f5}.add-package .aui-margin-b-10 .aui-list .aui-list-item-label-icon[data-v-06556420]{width:auto;padding-right:%?20?%}.add-package .aui-margin-b-10 .aui-list .aui-list-item-label-icon .aui-iconfont[data-v-06556420]{-webkit-align-self:center;align-self:center;font-size:%?60?%;color:#e16166;line-height:1.4!important;margin-left:%?30?%}.add-package .sub_box[data-v-06556420]{position:fixed;z-index:9;bottom:0;height:%?94?%;width:100%;color:#fff;background:rgba(251,189,67,.96)}.add-package .sub_box uni-button[data-v-06556420]{border:0;width:100%;line-height:%?94?%;background:transparent;display:block;text-align:center;color:#fff}.add-package .sub_box .go_zhuanyun[data-v-06556420]{background:#09f}',""]),i.exports=e},"66bc":function(i,e,t){"use strict";var a;t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var n=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-uni-view",{staticClass:"add-package"},[t("v-uni-view",{staticClass:"aui-tab",attrs:{id:"tab"}},[t("v-uni-view",{staticClass:"aui-tab-item ad_address_c"},[t("v-uni-text",{staticClass:"aui-active"},[i._v("登记信息")])],1)],1),t("v-uni-view",{staticClass:"aui-content aui-nav-search-fixed"},[t("v-uni-view",{staticClass:"aui-tab-page"},[t("v-uni-view",{staticClass:"aui-content aui-nav-search-fixed ",staticStyle:{background:"#f5f5f5",top:"0",position:"relative",height:"100%","margin-bottom":"45px"},attrs:{id:"content_wrapper1"}},[t("v-uni-view",{staticClass:"content-scroll",attrs:{id:"content_scroll"}},i._l(i.orderArray,(function(e,a){return t("v-uni-view",{key:a,staticClass:"aui-list aui-form-list aui-new-ul aui-margin-b-10"},[t("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[t("v-uni-view",{staticClass:"aui-list-item-inner"},[t("v-uni-view",{staticClass:"aui-list-item-input"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.deliveryNo,expression:"item.deliveryNo"}],staticClass:"message",attrs:{name:"bgleixing[]",form:"ybcartadd"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(i){return i.selected})).map((function(i){var e="_value"in i?i._value:i.value;return e}));i.$set(e,"deliveryNo",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[i._v("请选择快递公司（非必填）")]),i._l(i.deliveryCompanyData,(function(e,a){return t("option",{key:a,domProps:{value:e.deliveryNo}},[i._v(i._s(e.deliveryName))])}))],2)])],1)],1),t("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[t("v-uni-view",{staticClass:"aui-list-item-inner"},[t("v-uni-view",{staticClass:"aui-list-item-input"},[t("v-uni-input",{staticClass:"message",attrs:{placeholder:"请输入快递单号（必填）",type:"text"},model:{value:e.deliveryOrderNo,callback:function(t){i.$set(e,"deliveryOrderNo",t)},expression:"item.deliveryOrderNo"}})],1)],1)],1),t("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[t("v-uni-view",{staticClass:"aui-list-item-inner"},[t("v-uni-view",{staticClass:"aui-list-item-input"},[t("v-uni-input",{staticClass:"message",attrs:{placeholder:"请输入货物名称（必填）",type:"text"},model:{value:e.goodsName,callback:function(t){i.$set(e,"goodsName",t)},expression:"item.goodsName"}})],1)],1)],1),t("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white"},[t("v-uni-view",{staticClass:"aui-list-item-inner"},[t("v-uni-view",{staticClass:"aui-list-item-input"},[t("v-uni-textarea",{staticClass:"message",attrs:{rows:"",cols:"",placeholder:"请输入备注信息"},model:{value:e.remark,callback:function(t){i.$set(e,"remark",t)},expression:"item.remark"}})],1)],1)],1),t("v-uni-view",{staticClass:"aui-list-item aui-list-login  aui-background-white",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.handleDelete(a)}}},[t("v-uni-view",{staticClass:"aui-list-item-inner"},[t("v-uni-view",{staticClass:"aui-list-item-input",staticStyle:{"text-align":"center",color:"red","font-weight":"bold"}},[i._v("删除-快递单号")])],1)],1)],1)})),1),t("v-uni-view",{staticClass:"aui-content aui-margin-t-10 aui-margin-b-10",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.handleAdd.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"aui-list aui-list-in"},[t("v-uni-view",{staticClass:"aui-list-item",attrs:{id:"addgoods"}},[t("v-uni-view",{staticClass:"aui-list-item-label-icon"},[t("v-uni-text",{staticClass:"aui-iconfont aui-icon-plus aui-active"},[i._v("+")])],1),t("v-uni-view",{staticClass:"aui-list-item-inner"},[i._v("添加快递单号")])],1)],1)],1)],1)],1)],1),t("v-uni-view",{staticClass:"sub_box go_zhuanyun",attrs:{disabled:"disabled"}},[t("v-uni-button",{staticClass:"insertyubao",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.handleSubmit.apply(void 0,arguments)}}},[i._v("提交转运清单")])],1)],1)},o=[]},8874:function(i,e,t){"use strict";var a=t("d722"),n=t.n(a);n.a},ce59:function(i,e,t){"use strict";var a=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getDeliveryCompany=r,e.addOrder=d,e.editGoods=u;var n=a(t("5530")),o=a(t("bc35")),s=t("e093");function r(){return uni.request({url:o.default.baseUrl.dev+"/customer/find/all/deliveryCompany",method:"get",header:{Authorization:(0,s.getToken)()+"_"+(0,s.getCustomerNo)()}})}function d(i){return uni.request({url:o.default.baseUrl.dev+"/customer/order",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,s.getToken)()+"_"+(0,s.getCustomerNo)()},data:{paramMap:JSON.stringify(i)}})}function u(i){var e=i.id,t=i.deliveryNo,a=i.deliveryOrderNo,r=i.goodsName,d=(i.goodsNumber,i.remark),u={id:e,deliveryNo:t,deliveryOrderNo:a,goodsName:r,message:d};return uni.request({url:o.default.baseUrl.dev+"/order/updateGoods",method:"post",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,s.getToken)()+"_"+(0,s.getCustomerNo)()},data:(0,n.default)({},u)})}},d722:function(i,e,t){var a=t("5f98");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=t("4f06").default;n("107e99ae",a,!0,{sourceMap:!1,shadowMode:!1})}}]);