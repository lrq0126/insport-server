(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0bdd":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("f499"));n("4917");var a=i(n("cebc")),s=n("f232"),c=n("dba4"),r=n("2f62"),l={data:function(){return{loginName:"",password:""}},onBackPress:function(t){return uni.switchTab({url:"/pages/mine/index"}),!0},onShow:function(){this.handlelogout()},methods:(0,a.default)({},(0,r.mapMutations)(["login","changeUserName","changeLoginName","logout","changeHeadimg"]),{handleGo:function(t){uni.navigateTo({url:t})},is_weixin:function(){var t=navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},handlelogout:function(){uni.removeStorageSync("info"),(0,c.removeToken)(),(0,c.removeCustomerNo)(),this.logout()},handleSubmit:function(){var t=this,e={loginName:this.loginName,password:this.password};if(this.loginName)if(this.password){uni.showLoading({title:"正在登录...",mask:!0});(0,s.login)(e).then(function(e){200==e[1].data.code?((0,c.setToken)(e[1].data.content.token),(0,c.setCustomerNo)(e[1].data.content.customer.customerNo),t.changeUserName(e[1].data.content.customer.customerName),t.changeLoginName(e[1].data.content.customer.loginName),t.changeHeadimg(n("bd65")),uni.setStorageSync("info",e[1].data.content.customer),t.login(),setTimeout(function(){uni.hideLoading(),uni.showToast({icon:"success",title:"登录成功",duration:1500})},800),setTimeout(function(){uni.switchTab({url:"../mine/index"})},2300)):(uni.hideLoading(),uni.showToast({title:"您输入的登录账号或者密码不正确，重新输入!",icon:"none"}))})}else uni.showToast({icon:"none",title:"登录密码不能为空"});else uni.showToast({icon:"none",title:"登录账号不能为空"})},getPhoneNumber:function(t){if(console.log(t),"getPhoneNumber:fail user deny"==t.detail.errMsg)console.log("用户拒绝提供手机号码");else{console.log("用户同意提供手机号码"),console.log((0,o.default)(t.detail.encryptedData)),console.log((0,o.default)(t.detail.iv));var e={encryptedData:t.detail.encryptedData,iv:t.detail.iv,sessionKey:this.sessionKey};(0,s.getPhoneNumber)(e).then(function(t){t[1].data.code}).catch(function(t){uni.showModal({content:t.errMsg,showCancel:!1})}).finally(function(){})}},handelParentsInfo:function(t){(0,s.parentsInfo)(t).then(function(t){t[1].data.code}).catch(function(t){uni.showModal({content:t.errMsg,showCancel:!1})}).finally(function(){})},isLogin:function(){},startLogin:function(){if(this.isRotate)return!1;""!=this.mynote.phone.length?this.mynote.password.length<5?uni.showToast({icon:"none",position:"bottom",title:"请输入密码不少于6位数"}):(_this.isRotate=!0,"admin"==this.mynote.phone&&123456==this.mynote.password?(this.login(),this.changeUserName(this.mynote.phone),uni.setStorageSync("info",{userName:this.mynote.phone,password:this.mynote.password}),setTimeout(function(){_this.isRotate=!1,uni.switchTab({url:"../mine/index"})},3e3)):setTimeout(function(){_this.isRotate=!1,uni.showToast({title:"您输入的账号或者密码不正确",icon:"none"})},3e3)):uni.showToast({icon:"none",position:"bottom",title:"用户名/手机号码不能为空"})},GetUserInfo:function(t){var e=this;wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?(console.log("已授权====="),wx.getUserInfo({success:function(t){console.log("获取用户信息成功",t),e.handleRegistered(e.loginCode)},fail:function(t){console.log("获取用户信息失败",t)}})):console.log("未授权=====")}})},handleRegistered:function(t){var e=this;(0,s.loginRegistered)(t).then(function(t){0==t[1].data.code&&(e.sessionKey=JSON.parse(t[1].data.data).session_key,e.openid=JSON.parse(t[1].data.data).openid)}).catch(function(t){uni.showModal({content:t.errMsg,showCancel:!1})}).finally(function(){})},showSettingToast:function(t){wx.showModal({title:"提示！",confirmText:"去设置",showCancel:!1,content:t,success:function(t){t.confirm&&wx.navigateTo({url:"../setting/setting"})}})},onGetPhoneNumber:function(t){console.log("onGetPhoneNumber",t),console.log(t.detail.errMsg),console.log(t.detail.iv),console.log(t.detail.encryptedData),uni.showModal({title:"onGetPhoneNumber",content:t.detail.errMsg})},handleWX:function(){window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxfe820ab4d2e99546&redirect_uri=http://jiyun.flycloudstorage.com/client/jiyun&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect"}})};e.default=l},"4ba2":function(t,e,n){var i=n("da9c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("48fc052f",i,!0,{sourceMap:!1,shadowMode:!1})},5573:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"login-view"},[i("header",[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"h1"},[t._v("用户登录")]),i("v-uni-text",{staticClass:"membercheckin"},[t._v("享受更多贴心服务")])],1)],1),i("v-uni-view",{staticClass:"wrap differ"},[i("v-uni-view",{staticClass:"menber-list"},[i("v-uni-view",{attrs:{id:"HandLogin"}},[i("v-uni-form",{attrs:{id:"form1"}},[i("v-uni-view",{staticClass:"menber-list-li inputt"},[i("v-uni-label",[t._v("登录账号")]),i("v-uni-input",{attrs:{type:"text",id:"username",name:"username",maxlength:"50",placeholder:"请输入用户名或者手机号"},model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}})],1),i("v-uni-view",{staticClass:"menber-list-li inputt"},[i("v-uni-label",[t._v("登录密码")]),i("v-uni-input",{attrs:{type:"password",id:"password",name:"password",maxlength:"20",placeholder:"请输入登录密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"menber-list-li butt one"},[i("v-uni-button",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSubmit.apply(void 0,arguments)}}},[t._v("立即登录")])],1)],1),t.is_weixin()?i("v-uni-view",{staticClass:"menber-list-butt"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleWX.apply(void 0,arguments)}}},[i("img",{attrs:{src:n("92d4")}}),i("v-uni-text",{attrs:{id:"authLogin"}},[t._v("微信登录")])],1)],1):t._e()],1)],1)],1)],1)},a=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i})},"92d4":function(t,e){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/4QNtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6RUVGRDMwMDA2NDRGRTQxMUFFMTVCN0QyOEQxQjc4ODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTA5MDY5Mjc1MkIxMTFFNDlDODFBNzg2OTZFRDVBRTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTA5MDY5MjY1MkIxMTFFNDlDODFBNzg2OTZFRDVBRTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTcyMUIwOTg0RDUwRTQxMTg1NEM5QjRDQzczQkYwQUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUVGRDMwMDA2NDRGRTQxMUFFMTVCN0QyOEQxQjc4ODEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAACAgICAgICAgICAwICAgMEAwICAwQFBAQEBAQFBgUFBQUFBQYGBwcIBwcGCQkKCgkJDAwMDAwMDAwMDAwMDAwMAQMDAwUEBQkGBgkNCwkLDQ8ODg4ODw8MDAwMDA8PDAwMDAwMDwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAA3AEMDAREAAhEBAxEB/8QApgAAAQQDAQAAAAAAAAAAAAAABwAFBggCBAkBAQABBAMBAAAAAAAAAAAAAAAAAQIEBQMGBwgQAAIBAwIDBQUEBgsBAAAAAAECAwQFBgARIRIHMUEyEwhRYSIUFYFCMzRyI1MkVBZxkWKCkoOENVVlFwkRAAEDAgQDBgIJBQAAAAAAAAEAAgMRBCExEgVBUQZhcYGhEwexFJHB0eEiMkJiFfDxUoIj/9oADAMBAAIRAxEAPwDuRLLFBFJPPIsMMKl5pnIVUVRuzMTwAA4knSOcGipwAQgnfesCtNJSYlRR1oRuU3msDCBtu+GFSryD+0WQd45hx1y3f/cyC1cY7JokcP1HBnhTF3fgORKrJtxaDRgr28FEWynOK3dpMgnjDHcRwRU8SjfuBEXN/Wx1zu49xN5lNRMGjk1rfrBPmo/zUzuPkvDl2c0JVo8gllVTuYqiGnkRvcT5Qfb+hhp1t7ibzE4Eyh45Oa36g0+aPmpm8a+Cllh6yQ+clHltGlv5jyi80nMaYE/tYmLPGOz4gzjvblGui7B7l2904R3jfScf1DFnjXFvmOZCkQ7k0mjxTt4fcjhFLHNHHNDIssMqh4pUIZWVhuGUjgQR2HXTwQRUZKzWelQloQloQqr9Yc2mud8kwygmMdqtJja98p4VNUyiRYm27UiUqSO9zx8GuOe5HUb9f8fCaAAGQjjXEM7qYnnUKi3S7Jd6TT3/AGKmnqc69XP07dNKHLbBjEWUZBfbtHZ7TT1ZkWigdoZZ3mqfKZXYBYtlVWXmJ7eGtF6T6cG+3hhc/QxrdRp+Y4gUFcOOaZZQCV1CckRPR919uHqM6V1OYX3FosWyGx3iWyXmmpS7UU8scMU6z0vmlnVSswDIzMVYdpBGovWPTg2K9EDXlzHNDm1/MBUihphwz4hTZYRGaBNvrM9Qdz9OPTez5JjmLQZPkeT3f6RaYq0yChpisD1Ek1QImR3+FNlQOu5JO/w7HL0X0y3fbt0T3lrGN1GlNRxoAK4DtOKSKASmhUP9OHXCv9QPS0ZtecbTGL5QXOos94oqcu1JLNBHFL51MZCzhGWUAqzEqwI3PDT+qenxsd78u1+ppaHNJzoSRQ0wzGfEKvvoBE6mauT0WziWgvC4LcJS9vuIklx5mJJgnRTJJTj2I6BnUcOVgw+8AOge3HUb3H+PmNRQmM8qZs7qYt5UI5LNtV2dXpO8PsVqNdfV8loQloQuck9a1TkeR1Mv4tReblJJv28zVcu4+zs15d6ke6Tcrguz9R3kSB5LSp3kzvr/AJH4p/uOO4tm1jqcazGw0OS2CuKNVWmvjEsTsh3RgDsVZTxDKQR3HVPaX9zYTCa3eWPHEfA8wpsEpaagoh4ZYsSwfH6LGMPsNDjOP2/mNJaLfEIYUaQ8zsRxLMx4szEk951F3C/ub+YzXDy954nyA4ADkFO9XViVp57j+HZzj1XjmbWC35Lj1QVlqLbcoxJCHi4pIDuCjL3MpBHt07bNxutvmE1s8sflUcjwpx7knrFuIWWA9E6max2+z4RjtuwbCqNSLYpiMEJVzzM8FMg535iSS7kc3bzHXS7Dofdt7f8AN38mjVTF2LyOH4cA0cgSO5Hyck51ONKoqW/02xUNxtd4Oa1ZuNqq4K2DyaSJIjJBIsgVlZ2Yq23KRzcQTredq9vrTb52TtlkL2GoyAPhTI96zRbSyN4fqNQjTNHcaP8AGhjrFHaYD5b/AGRyEjb+/wDZroGlWlVjT1UFUjPBJzhG5JFIKsjDYlXVgCp2I4Eb6bRKtjQhc7+pNkqMO6j5Fb5lZaO9VEt8sk58MsFZIZJ1B7N4ahnUjuUoT4hrz/1/tDrPcHTAf85fxA/u/UPr8Vp+6wGGcu4Ox8eKwtt0AC8ezWgvYsEcqlcN5AX8TUcxqWJkQ+mFlizK+1lfckFRYsakjT5RhulVXOBIquD4khUhivYWK78Addc9s+mI5idwnFQ00jBy1DN3+uQ7angrOwi1/jOQyT76uvUyPSj0abqdFhs2dXGsvVHYrXZkqPlIBPVpLIJampEc3lxqsLAbISzFV4b8w7Y5XARB9NHW6H1F9EsH6ww41U4gctgqTUY9UyeeaeejqpaSXy5wkYljZ4SyPyjdSNwDuNNSqo2bf/QOmx31mWr0pN0nr6y21dzttgrM7FXy1C190p46iKaG3+QfMpo/NUO5lB2DsBsuzOBSEK614eS3StdqVSaikTeqhXj8xTpuXjI4bsBuYz3Nw8LMC4iqbVPn1K3/AMZF+W+c8Q/L/tf0ffrGnqDdTemtp6l2JbbWTtbLvb3NTjuQQqGmoqgjlJ5TsJI3HwyRk7MvsYKy1u67VBuduYJxVp+lp4Edo/rBR7m2ZcM0P/suc73Kexy3Wjv1RR0tTYa6roLjWRTfujPRzvA0sbycpCOU3AbiOzXmzddt+UvJLZjtelxaCBn4Y48FostIpXRg1oaJ7pb6lTGslNUJUxMN0kiYOpHuKkg6q3M0mhwKPWVrPTVc4arCLps371BktzjrlPiD7xsm/wDlldvdr0f0Hp/hodP7q9+orb9rcHW7SO1WQuVqx7KbRV2DKLHb8jsVwULX2a6U0VXSzBWDL5kMysjbEAjcdutuIqrFP9thtNmt1HarPQU1qtluiSnoLZRxJBTwRINkjiijCqiqOAAAA03Slqofcsaw+pyWnzSfFbNNmNHTtSUeVyUNO1yhgbcGKOrKGVVIJ4Bu8+06cBRIm2vqE5iXYBR4iewDv0qRBv6jD5e+55//ACr5r/TeZtv/AIdMS1VjJA7RuI3EchUiNyOYBtuBI3G+3s301OVesC9NOAYhLBdL6JuoOSQnzFu99CSQxSnYs9PRAeTGxb4udg0m/wB/VLtnT9pt7i9jayEkl7sXEnE48O4UVfZ7ZDbYgVcc3HP7vBS68dCOjl9mkqLh04sYqZWLTVNJTLRSux7Sz0vlMx95OrCaxt5jWSNrj2tB+IUp9vE/FzQe8BRBMExjoVLWX3DbPJa8GvTo+cUMMtRVCjqI15IrqFleV+QJ+rqOU8FCSbbI51nt4Y4G6I2hreQAA+gJzImsFGgAdiMVFdop4IKmnnSopqhFlp6iJg8ciMN1dHUkMCOIIOpCcnM3IcviOhImypr99/i292hKhre6yfJri+D2GVnraxV/me4wn4bVb5fxGdxuFnnTdIU8XEyEciaQmiRFn+X7L/xlP/t/0rwD8l/D/oe7WNPTxoQloQloQvG5eVufbk2PNv2bd++hCAsGCWeRJb50g6hU+O2+rmdpLTTmC747JMGPmlKXzEMDE7hhTzRjftXfTgSkwSkputMP6tI8AuSAbCsavudFv7zCKeq2+yTS6uxJTtWrPZusqlLkuSYPK0G/Pii09XHFUKf+yed3jYfdIpyvtGipSEVGamvSiogqLLfXjtEdkqfr9cbrQJUU1Uy1knJJUB5qSSRHIkcqNyG2ABVezTXJW5IoaROX/9k="},a88c:function(t,e,n){"use strict";n.r(e);var i=n("0bdd"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},ce69:function(t,e,n){"use strict";var i=n("4ba2"),o=n.n(i);o.a},da9c:function(t,e,n){var i=n("b041");e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.login-view .header[data-v-39fa1e2c]{background:url('+i(n("d5d8"))+") no-repeat 50%;width:100%;height:125px;text-align:center}.login-view .header .h1[data-v-39fa1e2c]{color:#09f;font-size:%?64?%;padding-top:%?62?%}.login-view .header uni-text[data-v-39fa1e2c]{color:#786450;font-size:%?36?%}.login-view .differ[data-v-39fa1e2c]{padding-top:0}.login-view .wrap[data-v-39fa1e2c]{max-width:%?1440?%;margin:0 auto;padding:%?20?% %?20?% %?150?% %?20?%}.login-view .wrap .menber-list-li[data-v-39fa1e2c]{color:#505050;height:%?112?%;border:1px solid #e5e5e5;line-height:%?112?%;margin-top:-1px;padding-left:%?24?%;background:#fff;position:relative}.login-view .wrap .inputt[data-v-39fa1e2c]{color:#505050;height:%?112?%;border:1px solid #e5e5e5;line-height:%?112?%;margin-top:-1px;background:#fff;position:relative;padding-left:0}.login-view .wrap .inputt uni-label[data-v-39fa1e2c]{margin-right:%?54?%;padding-left:%?30?%;width:%?108?%;display:inline-block;text-align:right;position:absolute}.login-view .wrap .inputt uni-input[data-v-39fa1e2c]{border:0;color:#878787;padding-left:%?160?%;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:%?108?%;font-size:%?28?%;margin-left:10px}.login-view .wrap .butt[data-v-39fa1e2c]{border:0;background:#f3f3f3;text-align:center;margin-top:%?40?%;padding:0}.login-view .wrap .butt uni-button[data-v-39fa1e2c]{border:1px #dedede solid;width:100%;height:%?84?%;background:rgba(251,189,67,.96);border-radius:%?10?%;color:#fff;font-size:%?32?%}.login-view .wrap .butt .ax[data-v-39fa1e2c]{border:1px #dedede solid;width:100%;height:%?84?%;line-height:%?84?%;background:#fff;border-radius:%?10?%;color:rgba(251,189,67,.96);display:block;text-align:center}.login-view .wrap .one[data-v-39fa1e2c]{margin-top:%?32?%}.login-view .wrap .menber-list-butt[data-v-39fa1e2c]{position:relative;height:%?180?%;border:0;background:#f3f3f3;text-align:center;margin-top:%?40?%;padding:0;color:#505050;line-height:%?112?%}.login-view .wrap .menber-list-butt uni-view[data-v-39fa1e2c]{height:%?200?%;width:%?200?%;border:1px #ddd solid;border-radius:%?500?%;margin:0 auto;position:relative}.login-view .wrap .menber-list-butt uni-view img[data-v-39fa1e2c]{position:absolute;top:%?40?%;left:%?60?%;width:%?90?%;height:%?70?%}.login-view .wrap .menber-list-butt uni-view uni-text[data-v-39fa1e2c]{position:absolute;bottom:%?36?%;left:0;width:%?200?%;letter-spacing:1px}",""])},f5b7:function(t,e,n){"use strict";n.r(e);var i=n("5573"),o=n("a88c");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("ce69");var s,c=n("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"39fa1e2c",null,!1,i["a"],s);e["default"]=r.exports}}]);